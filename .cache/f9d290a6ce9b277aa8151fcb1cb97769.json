{"dependencies":[{"name":"./object","loc":{"line":16,"column":24}},{"name":"./constants","loc":{"line":17,"column":27}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RequestMap = undefined;\n\nvar _object = require(\"./object\");\n\nvar object = _interopRequireWildcard(_object);\n\nvar _constants = require(\"./constants\");\n\nvar constants = _interopRequireWildcard(_constants);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * @struct\n */\n/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar RequestMap = /** @class */function () {\n  function RequestMap() {\n    this.map_ = {};\n    this.id_ = constants.minSafeInteger;\n  }\n  /**\n   * Registers the given request with this map.\n   * The request is unregistered when it completes.\n   * @param r The request to register.\n   */\n  RequestMap.prototype.addRequest = function (r) {\n    var id = this.id_;\n    this.id_++;\n    this.map_[id] = r;\n    var self = this;\n    function unmap() {\n      delete self.map_[id];\n    }\n    r.getPromise().then(unmap, unmap);\n  };\n  /**\n   * Cancels all registered requests.\n   */\n  RequestMap.prototype.clear = function () {\n    object.forEach(this.map_, function (key, val) {\n      if (val) {\n        val.cancel(true);\n      }\n    });\n    this.map_ = {};\n  };\n  return RequestMap;\n}();\nexports.RequestMap = RequestMap;\n\n//# sourceMappingURL=requestmap.js.map"},"hash":"7896604e736ef788839e07fd0dc6ef43"}